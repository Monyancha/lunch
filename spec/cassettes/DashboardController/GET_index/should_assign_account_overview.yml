---
http_interactions:
- request:
    method: get
    uri: http://localhost:3100/mapi/rates/historic/overnight?limit=30
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '601'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 02 Apr 2015 20:01:15 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '[["2014-02-10",0.11],["2014-02-11",0.12],["2014-02-12",0.11],["2014-02-13",0.12],["2014-02-14",0.11],["2014-02-18",0.11],["2014-02-19",0.11],["2014-02-20",0.11],["2014-02-21",0.11],["2014-02-24",0.12],["2014-02-25",0.12],["2014-02-26",0.12],["2014-02-27",0.12],["2014-02-28",0.12],["2014-03-03",0.12],["2014-03-04",0.12],["2014-03-05",0.12],["2014-03-06",0.12],["2014-03-07",0.13],["2014-03-10",0.13],["2014-03-11",0.12],["2014-03-12",0.12],["2014-03-13",0.12],["2014-03-14",0.12],["2014-03-17",0.13],["2014-03-18",0.13],["2014-03-19",0.13],["2014-03-20",0.13],["2014-03-21",0.13],["2014-04-17",0.08]]'
    http_version: 
  recorded_at: Thu, 02 Apr 2015 20:01:15 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/member/750/balance/pledged_collateral
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '56'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 02 Apr 2015 20:01:15 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"mortgages":132304735,"agency":16041690,"aaa":0,"aa":0}'
    http_version: 
  recorded_at: Thu, 02 Apr 2015 20:01:15 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/member/750/balance/total_securities
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '49'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 02 Apr 2015 20:01:15 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"pledged_securities":7,"safekept_securities":83}'
    http_version: 
  recorded_at: Thu, 02 Apr 2015 20:01:15 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/member/750/balance/effective_borrowing_capacity
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '56'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 02 Apr 2015 20:01:15 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"total_capacity":1001316828,"unused_capacity":86316828}'
    http_version: 
  recorded_at: Thu, 02 Apr 2015 20:01:15 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/rates/whole/overnight
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '54'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 02 Apr 2015 20:01:15 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"rate":0.14,"updated_at":"2015-04-02 13:01:00 -0700"}'
    http_version: 
  recorded_at: Thu, 02 Apr 2015 20:01:15 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/etransact_advances/status
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '3907'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 02 Apr 2015 20:01:15 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"etransact_advances_status":true,"wl_vrc_status":false,"all_loan_status":{"overnight":{"whole":{"trade_status":false,"display_status":false,"bucket_label":"Open
        and O/N"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"Open
        and O/N"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"Open
        and O/N"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"Open
        and O/N"}},"open":{"whole":{"trade_status":false,"display_status":false,"bucket_label":"Open
        and O/N"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"Open
        and O/N"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"Open
        and O/N"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"Open
        and O/N"}},"1week":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"1
        Week"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"1
        Week"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"1
        Week"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"1 Week"}},"2week":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"2
        Weeks"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"2
        Weeks"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"2
        Weeks"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"2
        Weeks"}},"3week":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"3
        Weeks"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"3
        Weeks"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"3
        Weeks"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"3
        Weeks"}},"1month":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"1
        Month"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"1
        Month"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"1
        Month"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"1
        Month"}},"2month":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"2
        Months"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"2
        Months"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"2
        Months"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"2
        Months"}},"3month":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"3
        Months"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"3
        Months"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"3
        Months"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"3
        Months"}},"6month":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"4-6
        Months"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"4-6
        Months"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"4-6
        Months"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"4-6
        Months"}},"1year":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"1
        Year"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"1
        Year"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"1
        Year"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"1 Year"}},"2year":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"2
        Years"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"2
        Years"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"2
        Years"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"2
        Years"}},"3year":{"whole":{"trade_status":true,"display_status":true,"bucket_label":"3
        Years"},"agency":{"trade_status":true,"display_status":true,"bucket_label":"3
        Years"},"aaa":{"trade_status":true,"display_status":true,"bucket_label":"3
        Years"},"aa":{"trade_status":true,"display_status":true,"bucket_label":"3
        Years"}}}}'
    http_version: 
  recorded_at: Thu, 02 Apr 2015 20:01:15 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/users/local/roles
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="FQEozsDJBUmgYtykUMn0SPpwtCmSYa"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '19'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Tue, 12 May 2015 23:35:12 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '["signer-advances"]'
    http_version: 
  recorded_at: Tue, 12 May 2015 23:35:12 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/member/750/borrowing_capacity_details/2015-06-17
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="wfiZWkmv1jkASPv0MEKCOqUnl7kNs3"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '1544'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Wed, 17 Jun 2015 21:39:24 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"date":"2015-06-17","standard":{"collateral":[{"type":"BL SUMMARY
        - RESIDENTIAL","count":1,"original_amount":61335000,"unpaid_principal":58403241,"market_value":51394852,"borrowing_capacity":40601933},{"type":"BL
        SUMMARY - MULTIFAMILY","count":1,"original_amount":16118000,"unpaid_principal":7855913,"market_value":7384558,"borrowing_capacity":5538418},{"type":"BL
        SUMMARY - COMMERCIAL","count":1,"original_amount":103985000,"unpaid_principal":67974995,"market_value":59138245,"borrowing_capacity":41988153},{"type":"BL
        SUMMARY - RES 2NDs \u0026 HELOCs","count":1,"original_amount":43839000,"unpaid_principal":41105944,"market_value":14387080,"borrowing_capacity":9783214}],"excluded":{"blanket_lien":0,"bank":0,"regulatory":0},"utilized":{"advances":15000000,"letters_of_credit":0,"swap_collateral":0,"sbc_type_deficiencies":0,"payment_fees":0,"other_collateral":0,"mpf_ce_collateral":0}},"sbc":{"collateral":{"aa":{"total_market_value":6000000,"total_borrowing_capacity":5000000,"advances":1000000,"standard_credit":0,"remaining_market_value":5000000,"remaining_borrowing_capacity":4000000},"aaa":{"total_market_value":110000000,"total_borrowing_capacity":90000000,"advances":80000000,"standard_credit":2000000,"remaining_market_value":20000000,"remaining_borrowing_capacity":10000000},"agency":{"total_market_value":358000000,"total_borrowing_capacity":340000000,"advances":12000000,"standard_credit":0,"remaining_market_value":346000000,"remaining_borrowing_capacity":328000000}},"utilized":{"other_collateral":0,"excluded_regulatory":0}}}'
    http_version: 
  recorded_at: Wed, 17 Jun 2015 21:39:24 GMT
- request:
    method: get
    uri: http://localhost:3100/mapi/member/750/borrowing_capacity_details/2015-06-18
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Token token="wfiZWkmv1jkASPv0MEKCOqUnl7kNs3"
      X-Request-Id:
      - ''
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Content-Type:
      - text/html;charset=utf-8
      Content-Length:
      - '1544'
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.2/2014-05-08)
      Date:
      - Thu, 18 Jun 2015 17:21:50 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: '{"date":"2015-06-18","standard":{"collateral":[{"type":"BL SUMMARY
        - RESIDENTIAL","count":1,"original_amount":61335000,"unpaid_principal":58403241,"market_value":51394852,"borrowing_capacity":40601933},{"type":"BL
        SUMMARY - MULTIFAMILY","count":1,"original_amount":16118000,"unpaid_principal":7855913,"market_value":7384558,"borrowing_capacity":5538418},{"type":"BL
        SUMMARY - COMMERCIAL","count":1,"original_amount":103985000,"unpaid_principal":67974995,"market_value":59138245,"borrowing_capacity":41988153},{"type":"BL
        SUMMARY - RES 2NDs \u0026 HELOCs","count":1,"original_amount":43839000,"unpaid_principal":41105944,"market_value":14387080,"borrowing_capacity":9783214}],"excluded":{"blanket_lien":0,"bank":0,"regulatory":0},"utilized":{"advances":15000000,"letters_of_credit":0,"swap_collateral":0,"sbc_type_deficiencies":0,"payment_fees":0,"other_collateral":0,"mpf_ce_collateral":0}},"sbc":{"collateral":{"aa":{"total_market_value":6000000,"total_borrowing_capacity":5000000,"advances":1000000,"standard_credit":0,"remaining_market_value":5000000,"remaining_borrowing_capacity":4000000},"aaa":{"total_market_value":110000000,"total_borrowing_capacity":90000000,"advances":80000000,"standard_credit":2000000,"remaining_market_value":20000000,"remaining_borrowing_capacity":10000000},"agency":{"total_market_value":358000000,"total_borrowing_capacity":340000000,"advances":12000000,"standard_credit":0,"remaining_market_value":346000000,"remaining_borrowing_capacity":328000000}},"utilized":{"other_collateral":0,"excluded_regulatory":0}}}'
    http_version: 
  recorded_at: Thu, 18 Jun 2015 17:21:50 GMT
recorded_with: VCR 2.9.3
