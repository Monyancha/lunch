- fixed_rate_row_span = rate_data.keys.length - 2
- rate_data.keys.each_with_index do |advance_term, i|
  %tr{class: "#{'quick-advance-table-label-row' if i == 0 || i == 2}"}
    -if i == 0
      %td.quick-advance-table-horz-axes-label{rowspan: 2}
        %span= t('dashboard.quick_advance.table.axes_labels.variable_rate')
    -if i == 2
      %td.quick-advance-table-horz-axes-label{rowspan: fixed_rate_row_span}
        %span= t('dashboard.quick_advance.table.axes_labels.fixed_rate')
    %td.row-label= advance_term.gsub('_', ' ')
    -advance_types.each do |advance_type|
      - advance_rate = sprintf( "%0.02f", rate_data[advance_term][advance_type].to_f)
      %td.selectable-cell{data: {'advance-type' => advance_type, 'advance-term' => advance_term, 'advance-rate' => advance_rate}}
        = advance_rate
        = render 'shared/tooltip', tooltip_data: {t('dashboard.quick_advance.preview.field_headings.payment_on') => rate_data[advance_term]['payment_on'], t('dashboard.quick_advance.preview.field_headings.interest_day_count') => rate_data[advance_term]['interest_day_count'], t('dashboard.quick_advance.preview.field_headings.maturity_date') => rate_data[advance_term]['maturity_date']}