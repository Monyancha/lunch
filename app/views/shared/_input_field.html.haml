- placeholder ||= nil
- icon ||= nil
- field_class ||= []
- field_data ||= {}
- location ||= 'before'
- field_name ||= nil
- form_builder ||= nil
- field_type ||= :text_field
- label ||= nil
- field_id ||= field_name
- html_attributes ||= {}
- horizontal ||= false
- html = capture_haml do
  - if label
    - if form_builder
      = form_builder.label field_name, label
    - else
      = label_tag field_name, label, for: field_id
  %span.input-field-container{class: icon ? "icon-#{icon}-#{location}" : nil}<>
    - if form_builder
      = form_builder.send field_type, field_name, {placeholder: placeholder, class: field_class, data: field_data}.merge(html_attributes)
    - else
      %input{{placeholder: placeholder, class: field_class, data: field_data, name: field_name, id: field_id, type: field_type}.merge(html_attributes)}
    %label.label-error
- if horizontal
  %span.input-field-container-horizontal
    = html
- else
  = html