- placeholder ||= nil
- icon ||= nil
- field_class ||= []
- field_data ||= {}
- location ||= 'before'
- field_name ||= nil
- form_builder ||= nil
- field_type ||= :text_field
- label ||= nil
- field_id ||= field_name
- html_attributes ||= {}
- error ||= false
- horizontal ||= false
- field_value ||= nil
- html = capture_haml do
  - if label
    - label_classes = []
    - label_classes << 'label-error' if error.present?
    - if form_builder
      = form_builder.label field_name, label, class: label_classes
    - else
      = label_tag field_name, label, for: field_id, class: label_classes
  - classes = []
  - classes << "icon-#{icon}-#{location}" if icon
  - classes << 'input-field-container-error' if error.present?
  %span.input-field-container{class: classes}<>
    - if form_builder
      = form_builder.send field_type, field_name, {placeholder: placeholder, class: field_class, data: field_data}.merge(html_attributes)
    - else
      %input{{placeholder: placeholder, class: field_class, data: field_data, name: field_name, id: field_id, type: field_type, value: field_value}.merge(html_attributes)}
    %label.label-error
      = error.join("\n") if error
- if horizontal
  %span.input-field-container-horizontal
    = html
- else
  = html