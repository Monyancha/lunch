- @html_class = 'white-background'
- @page_title = t('reports.meta_title')
.report.row
  .report-header
    %h1= t('reports.pages.capital_stock_activity.title')
    .report-header-buttons
      %button.report-button-left #{t('dashboard.actions.print')}
      %span.report-split-button
        %button.report-button-right #{t('dashboard.actions.download')}
        %button.report-drop-down-right #{t('dashboard.actions.xml')}
    .report-datepicker= render 'shared/input_field', icon: :calendar, placeholder: t('dashboard.reports.as_of_yesterday'), location: :after
  .report-main-body
    .report-summary-data
      %h3
        = t('reports.pages.capital_stock_activity.balance_heading')
        %span= @capital_stock_activity[:start_date]
      %p= number_with_delimiter(@capital_stock_activity[:start_balance]) + ' shares'
    .report-summary-data
      %h3
        = t('reports.pages.capital_stock_activity.balance_heading')
        %span= @capital_stock_activity[:end_date]
      %p= number_with_delimiter(@capital_stock_activity[:end_balance]) + ' shares'
    %h2.report-table-title= t('reports.pages.capital_stock_activity.table_title')
    %table.report-table
      %thead
        %tr
          -@table_keys.each do |key|
            %th= t("reports.pages.capital_stock_activity.table_headings.#{key}")
      %tbody
        -@capital_stock_activity[:activities].each do |row|
          %tr
            -@table_keys.each do |key|
              %td{data: {'column-type' => key, 'sort-value' => row[key]}}= row[key]
      %tfoot
        %tr
          %td{colspan: 2}= t('reports.pages.capital_stock_activity.table_headings.total')
          %td= @capital_stock_activity[:total_debits]
          %td= @capital_stock_activity[:total_credits]
        %td
    %small= t('reports.pages.capital_stock_activity.notes_html', url: '/#')