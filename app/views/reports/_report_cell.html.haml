- cell[:options] ||= {}
- classes = [:'report-cell-right', :'report-cell-narrow']
- header_row ||= false
- case cell[:type]
- when :basis_point, :number
  - value = fhlb_formatted_number(cell[:value], cell[:options])
- when :index
  - value = fhlb_formatted_number(cell[:value], { precision: 5 }.merge(cell[:options]))
- when :rate, :shares_fractional
  - value = fhlb_formatted_number(cell[:value], { precision: 2 }.merge(cell[:options]))
- when :currency
  - value = fhlb_formatted_currency(cell[:value], cell[:options])
- when :currency_whole
  - value = fhlb_formatted_currency(cell[:value], { precision: 0 }.merge(cell[:options]))
- when :percentage
  - value = fhlb_formatted_percentage(cell[:value])
- when :months
  - value = cell[:value] ? t('reports.month_count', count: cell[:value]) : t('global.missing_value')
- when :time
  - value = fhlb_formatted_time(cell[:value])
- when :date
  - value = fhlb_date_standard_numeric(cell[:value])
  - classes = [:'report-cell-narrow']
- when :checkbox
  - value = capture_haml do
    - if cell[:submit_unchecked_boxes]
      = hidden_field_tag(cell[:name], 'off')
    = check_box_tag(cell[:name], cell[:value], cell[:checked], {disabled: cell[:disabled], data: cell[:data]})
    - if cell[:label]
      = label_tag
- when :text_field
  - classes = cell[:disabled] ? ['report-cell-right'] : []
  - value = capture_haml do
    - cell_value = case cell[:value_type]
    - when :number
      - fhlb_formatted_number(cell[:value], cell[:options])
    = text_field_tag(cell[:name], cell_value, {disabled: cell[:disabled]})
- when :list
  - value = capture_haml do
    %ul
      - cell[:value].each do |list_item|
        - if list_item.is_a?(Array) && list_item.last == :footnoted
          %li{data:{'list-value' => list_item}}= t('global.footnoted_string', string: list_item.first)
        -else
          %li{data:{'list-value' => list_item}}= list_item
- when :link_list
  - value = capture_haml do
    %ul
      - cell[:value].each do |list_item|
        - if list_item.is_a?(Array)
          %li= link_to(list_item.first, list_item.last)
        - else
          %li= list_item
- when :actions
  - value = cell[:value].collect {|action| action.is_a?(Array) ? link_to(action.first, action.last) : action}.join(' ').html_safe
  - classes = [:'report-cell-actions', :'report-cell-narrow']
- when :feature_status
  - cell[:order] ||= cell[:value]
  - value = capture_haml do
    %span{class: ["admin-#{cell[:value]}-icon"]}
- else
  - value = cell[:value]
  - classes = [:'report-cell-narrow']
- if header_row
  - unsortable = !cell[:sortable] if cell.has_key?(:sortable)
  %th{class: cell[:classes] || classes, colspan: cell[:colspan], data: {unsortable: unsortable} }
    = value
- else
  %td{class: cell[:classes] || classes, colspan: cell[:colspan], data: {order: cell[:order]}}
    = value